{% block stylesheet %}
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/css/bootstrap-select.min.css">
{% endblock %}

{% set pathBase='inamika_backoffice_projects' %}
{% set pathBaseApi='api_projects' %}
{% extends "InamikaBackOfficeBundle::layout.html.twig" %}
{% block body %}
	{{ parent()}}
	{% include 'InamikaBackOfficeBundle:Projects/_partials:actions.html.twig' with { entity:entity } %}
	{% include 'InamikaBackOfficeBundle:Projects/_partials:header.html.twig' with { entity:entity } %}
    <h3 class="card-title cursor-pointer" data-toggle="collapse" data-target="#collapseDescription" aria-expanded="false" aria-controls="collapseDescription">{{ 'DESCRIPTION' | trans }}</h3>
    <hr>
    <div class="collapse show" id="collapseDescription">
    <p>{{ entity.description | default('No hay descripci√≥n para mostrar') | nl2br}}</p>
    </div>
    <h3 class="card-title cursor-pointer" data-toggle="collapse" data-target="#collapseCharts" aria-expanded="false" aria-controls="collapseCharts">{{ 'UNIT_BY_STATUS' | trans }}</h3>
    <hr>
    <div class="collapse show" id="collapseCharts">
        <div class="row">
            <div class="col-lg-6">
                <div class="card">
                    <div class="card-body">
                        <h4 class="card-title">{{ 'CHART_BAR' | trans }}</h4>
                        <div>
                            <div class="text-center" id="spin-chartBar"><i class="fa fa-refresh fa-spin fa-3x fa-fw"></i></div>
                            <canvas id="chartBar" height="150"></canvas>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="card">
                    <div class="card-body">
                        <h4 class="card-title">{{ 'CHART_PIE' | trans }}</h4>
                        <div>
                            <div class="text-center" id="spin-chartPie"><i class="fa fa-refresh fa-spin fa-3x fa-fw"></i></div>
                            <canvas id="chartPie" height="150"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <h3 class="card-title cursor-pointer" data-toggle="collapse" data-target="#collapseMap" aria-expanded="false" aria-controls="collapseMap">{{ 'MAP_OR_IMPLANTATION' | trans }}</h3>
    <hr>
    <div class="collapse show" id="collapseMap">
        {% include 'InamikaBackOfficeBundle:Projects/_partials:map.html.twig' with { entity:entity, mode:'VIEW'} %}
        <br/>
    </div>
    <div >
        {% include 'InamikaBackOfficeBundle:_partials:gallery.html.twig' with { files:entity.gallery} %}
    </div>
{% endblock body %}
{% block javascripts %}
	{{ parent() }}
    <script src="{{ asset('bundles/inamikabackoffice/assets/plugins/Chart.js/chartjs.init.js')}}"></script>
    <script src="{{ asset('bundles/inamikabackoffice/assets/plugins/Chart.js/Chart.min.js')}}"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/js/bootstrap-select.min.js"></script>
    {% include 'InamikaBackOfficeBundle:_partials:removeScripts.html.twig' with { entity:entity,pathBase:pathBase,pathBaseApi:pathBaseApi } %}
    {% include 'InamikaBackOfficeBundle:Projects/_partials:mapScripts.html.twig' with { entity:entity, mode:'VIEW'} %}
    {% include 'InamikaBackOfficeBundle:Projects/_partials:chartScripts.html.twig' with { entity:entity } %}
{% endblock javascripts %}
