{% set pathBase='inamika_backoffice_projects' %}
{% extends "InamikaBackOfficeBundle::layout.html.twig" %}
{% block headerPage %}
<div class="row page-titles">
    <div class="col-md-5 align-self-center">
        <h3 class="text-themecolor">
        {% if app.request.attributes.get('_route_params')._breadcrumbs is defined %}
            {{ (app.request.attributes.get('_route_params')['_breadcrumbs']|last)['label'] | trans }}
        {% endif %}
        </h3>
    </div>
    <div class="col-md-7 align-self-center">
        {% include 'InamikaBackOfficeBundle:Projects/_partials:breadcrumb.html.twig' with { entity:entity } %}
    </div>
</div>
{% endblock %}
{% block body %}
	{{ parent()}}
    <div class="row">
        <div class="col-sm-6">
            <div class="fixme" style="width: 100%; z-index: 500;">
                <div class="btn-group">
                    <button type="button" class="btn btn-circle btn-success" onclick="addUnits()" title="{{ 'ADD_UNIT' | trans }}" title="{{ 'ADD_UNIT' | trans }}"><i class="fa fa-plus"></i></button>
                    <button type="button" class="btn btn-circle btn-info disabled btnSelected" title="{{ 'EDIT_UNIT' | trans }}" onclick="editUnit()" id="btnEditUnit" ><i class="fa fa-pencil"></i></button>
                    <button type="button" class="btn btn-circle btn-primary disabled btnSelected" title="Quitar ubicaciÃ³n" onclick="removePosition()" id="btnSetPosition" ><i class="fa fa-remove"></i></button>
                </div>
                <div class="btn-group">
                    <button type="button" class="btn btn-circle btn-warning" onclick="zoom(1)" title="Acercar"><i class="fa fa-search-plus"></i></button>
                    <button type="button" class="btn btn-circle btn-warning" onclick="zoom(-1)" title="Alejar"><i class="fa fa-search-minus"></i></button>
                </div>
            </div>
        </div>
        <div class="col-sm-2">
            <div id="loading-map"><i class="fa fa-refresh fa-spin fa-2x fa-fw"></i> {{ 'LOADING' | trans }}</div>
        </div>
        <div class="col-sm-4">
            {% include 'InamikaBackOfficeBundle:Projects/_partials:actions.html.twig' with { entity:entity } %}
        </div>
    </div>
    <div class="row">
        <div class="col-sm-9 col-lg-10">
            {% include 'InamikaBackOfficeBundle:Projects/_partials:map.html.twig' with { entity:entity, mode:'DRAG'} %}
        </div>
        <div class="col-sm-3 col-lg-2">
            <h3>{{ 'UNITS' | trans }}</h3>
            <div class="list-group units-container" style="height: {{ mapSize[1] - 18 | raw }}px;" id="list-units"></div>
        </div>
    </div>
    <div id="modalUnit" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title"></h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body"></div>
            </div>
        </div>
    </div>
{% endblock body %}
{% block javascripts %}
	{{ parent() }}
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script src="{{ asset('bundles/inamikabackoffice/js/combobox.js') }}"></script>
    {% include 'InamikaBackOfficeBundle:Projects/_partials:mapScripts.html.twig' with { entity:entity, mode:'DRAG'} %}
{% endblock javascripts %}
