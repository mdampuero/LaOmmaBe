{% block stylesheet %}
	<link href="{{ asset('bundles/inamikabackoffice/css/pages/user-card.css') }}" id="theme" rel="stylesheet">
{% endblock %}

{% set pathBase='inamika_backoffice_projects' %}
{% extends "InamikaBackOfficeBundle::layout.html.twig" %}
{% block headerPage %}
<div class="row page-titles">
    <div class="col-md-5 align-self-center">
        <h3 class="text-themecolor">
        {% if app.request.attributes.get('_route_params')._breadcrumbs is defined %}
            {{ (app.request.attributes.get('_route_params')['_breadcrumbs']|last)['label'] | trans }}
        {% endif %}
        </h3>
    </div>
    <div class="col-md-7 align-self-center">
        {% include 'InamikaBackOfficeBundle:Projects/_partials:breadcrumb.html.twig' with { entity:entity } %}
    </div>
</div>
{% endblock %}
{% block body %}
	{{ parent()}}
   
    {# <div id="map-edit" class="scrollbooster-viewport">
        <div class="scrollbooster-content">
            <canvas id="jPolygon" {{ mapSize[3] | raw }} style="cursor:crosshair" data-imgsrc="{{ asset('uploads/or/' ~ entity.map) }}" onmousedown="point_it(event)" oncontextmenu="return false;">
                Your browser does not support the HTML5 canvas tag.
            </canvas>
        </div>
    </div> #}
    <div style="width:100%; height:600px; overflow:auto; ">
        <div class="btn-group" style="position:absolute; left:35px;top:35px;">
            <button type="button" class="btn btn-secondary" onclick="undo()" data-toggle="tooltip" data-placement="top" title="Deshacer"><i class="fa fa-undo"></i></button>
            <button type="button" class="btn btn-secondary" onclick="add()" data-toggle="tooltip" data-placement="top" title="Vovler a empezar"><i class="fa fa-plus"></i></button>
        </div>
        <canvas id="jPolygon" {{ mapSize[3] | raw }} style="cursor:crosshair" data-imgsrc="{{ asset('uploads/or/' ~ entity.map) }}" onmousedown="point_it(event)" oncontextmenu="return false;">
            Your browser does not support the HTML5 canvas tag.
        </canvas>
    </div>
    
    <div style="display:none">
        <button onclick="undo()">Undo</button>
        <button onclick="clear_canvas()">Clear</button>
        <p>Press <strong>Left Click</strong> to draw a point.</p>
        <p><strong>CTRL+Click</strong> or <strong>Right Click</strong> to close the polygon.</p>
        <p><strong>Coordinates:</strong></p>
        <textarea id="coordinates" disabled="disabled" style="width:300px; height:200px;"></textarea>
    </div>
    <hr>
	<div class="form-actions">
		<button type="button" class="btn btn-success" onclick="save()">
			<i class="fa fa-check"></i>
			{{ 'SAVE' | trans }}</button>
		<button type="button" class="btn btn-inverse" onclick="location.href='{{ path(pathBase) }}'">{{ 'CANCEL' | trans }}</button>
	</div>
    {% endblock body %}
{% block javascripts %}
	{{ parent() }}
    {# {% include 'InamikaBackOfficeBundle:_partials:scrollboosterScripts.html.twig' %} #}
    <script src="{{ asset('bundles/inamikabackoffice/plugins/draw/jPolygon.js') }}"></script>
    <script>
        function add(){
            clear_canvas();
        }
        $(function (){
            clear_canvas();
        });
    </script>
{% endblock javascripts %}
